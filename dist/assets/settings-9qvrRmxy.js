import{u as o}from"./app-BsjPpv4N.js";document.addEventListener("DOMContentLoaded",function(){o(),document.getElementById("apiKeysBtn").addEventListener("click",function(){fetch("/api/settings/api-keys").then(e=>e.json()).then(e=>{e.success&&(document.getElementById("thegamesdbApiKey").value=e.thegamesdbApiKey||"",document.getElementById("geminiApiKey").value=e.geminiApiKey||"",document.getElementById("githubPatToken").value=e.githubPatToken||"",document.getElementById("rawgApiKey").value=e.rawgApiKey||""),document.getElementById("apiKeysModal").classList.remove("hidden")}).catch(e=>{console.error("Error loading API keys:",e),document.getElementById("apiKeysModal").classList.remove("hidden")})}),document.getElementById("closeApiKeysModal").addEventListener("click",function(){document.getElementById("apiKeysModal").classList.add("hidden")}),document.getElementById("cancelApiKeysBtn").addEventListener("click",function(){document.getElementById("apiKeysModal").classList.add("hidden")}),document.querySelectorAll(".toggle-password").forEach(e=>{e.addEventListener("click",function(){const s=this.previousElementSibling,i=s.getAttribute("type")==="password"?"text":"password";s.setAttribute("type",i);const t=this.querySelector("i");i==="password"?(t.classList.remove("fa-eye-slash"),t.classList.add("fa-eye")):(t.classList.remove("fa-eye"),t.classList.add("fa-eye-slash"))})}),document.getElementById("apiKeysForm").addEventListener("submit",function(e){e.preventDefault();const s=document.getElementById("thegamesdbApiKey").value,i=document.getElementById("geminiApiKey").value,t=document.getElementById("githubPatToken").value,d=document.getElementById("rawgApiKey").value;fetch("/api/settings/api-keys",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({thegamesdbApiKey:s,geminiApiKey:i,githubPatToken:t,rawgApiKey:d})}).then(n=>n.json()).then(n=>{n.success?(document.getElementById("apiKeysModal").classList.add("hidden"),alert("API keys saved successfully")):alert(n.message||"Failed to save API keys")}).catch(n=>{console.error("Error saving API keys:",n),alert("Error saving API keys")})})});
